# Задание

Руководитель отдела сопровождения клиентов хочет получить информацию о том, насколько хорошо сотрудники его отдела (аккаунт-менеджеры) справляются с одной из своих основных задач – пролонгацией договоров с клиентами. От аналитика он ожидает отчет о пролонгациях сотрудников за **2023 год**.

------------------------------------------------------------------------

## Коэффициенты пролонгации

В компании используются два коэффициента пролонгации:

1.  **Для проектов, пролонгированных в первый месяц**\
    Отношение суммы отгрузки проектов, пролонгированных в первый месяц после завершения, к сумме отгрузки последнего месяца реализации всех завершившихся в прошлом месяце проектов.

2.  **Для проектов, пролонгированных во второй месяц**\
    Отношение суммы отгрузки проектов, пролонгированных во второй месяц, к сумме отгрузки последнего месяца проектов, не пролонгированных в первый.

**Пример расчета:**\
Если нужно понять, насколько хорошо менеджер пролонгировал в мае:

1.  Рассчитываем **первый коэффициент**:
    -   Сумма отгрузки проектов, завершившихся в апреле (за апрель)\
    -   Сумма отгрузки этих же проектов, если у них есть отгрузка в мае (за май)\
    -   Коэффициент = вторая сумма / первая сумма
2.  Рассчитываем **второй коэффициент**:
    -   Сумма проектов, завершившихся в марте, у которых нет отгрузки в апреле (за март)\
    -   Сумма этих проектов, если есть отгрузка в мае (за май)\
    -   Коэффициент = вторая сумма / первая сумма

------------------------------------------------------------------------

## Исходные данные

1.  **`prolongations.csv`**

| Колонка | Описание |
|----|----|
| id | ID проекта |
| month | Последний месяц реализации проекта |
| AM | ФИО ответственного аккаунт-менеджера (данные первичны по отношению к financial_data) |

2.  **`financial_data.csv`**

| Колонка | Описание |
|----|----|
| id | ID проекта |
| Причина дубля | Причина, почему строки с одним и тем же id встречаются несколько раз |
| Колонки с названием месяца | Сумма отгрузки проекта в данный месяц |
| Account | ФИО ответственного аккаунт-менеджера |

> Примечания по данным:\
> - **‘в ноль’** – отгрузка проекта в данном месяце равна 0. Для коэффициента пролонгации берется отгрузка предыдущего месяца (только если все части оплаты равны 0).\
> - **‘стоп’** или **‘end’** – проект завершился до истечения срока договора. Если проект имеет “стоп” или “end” в последний месяц реализации или ранее, он исключается из расчетов пролонгаций.

------------------------------------------------------------------------

## Задачи

1.  Рассчитать коэффициенты пролонгации для каждого менеджера и для всего отдела:
    -   За каждый месяц\
    -   За год
2.  Сформировать **аналитический отчет** в Google Sheets или Excel, на основании которого руководитель отдела сможет принимать управленческие решения.
    -   Обязательные элементы: коэффициенты пролонгации\
    -   Дополнительно можно включить: дополнительные метрики, визуализации, графики

------------------------------------------------------------------------

## Результат

1.  Код с подробными пояснениями логики расчетов в **Google Colab** или **Jupyter Notebook**\
2.  Аналитический отчет для руководителя отдела (**Excel** или **Google Sheets**)
